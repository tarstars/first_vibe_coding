# Что происходит при нажатии кнопки «Добавить»

1. **Нажали кнопку**  
   В браузере в файле `static/app.js` на кнопке стоит обработчик `addBtn.addEventListener("click", addTodo);`. Когда вы нажимаете, вызывается функция `addTodo()`.

2. **Читаем текст из поля**  
   `addTodo` берёт текст из поля ввода (`const text = inputEl.value.trim();`). Если строка пустая, функция просто ставит фокус обратно в поле и выходит — пустые дела не отправляются.

3. **Временно блокируем кнопку**  
   Кнопка отключается (`addBtn.disabled = true;`), чтобы избежать повторных быстрых кликов, пока идёт запрос.

4. **Отправляем запрос на сервер**  
   Функция делает `fetch` по адресу `/api/todos` с методом `POST` и телом JSON `{ text: "…ваш текст…" }`. Это обычный HTTP‑запрос: фронтенд (страница) общается с бэкендом (Flask) по локальному адресу http://127.0.0.1:5000.

5. **Сервер принимает и создаёт дело**  
   В `app.py` есть маршрут `@app.route("/api/todos", methods=["POST"])`. Flask:
   - Читает JSON, достаёт `text`.
   - Если текста нет, возвращает ошибку 400.
   - Создаёт словарь вида `{"id": <новый номер>, "text": "...", "done": False}` и кладёт его в список `todos` в памяти.
   - Отдаёт этот словарь обратно в ответе с кодом 201.

6. **Получаем ответ и обновляем список в браузере**  
   В `addTodo` ответ превращается в объект `todo`. Он добавляется в массив `todos` на фронтенде, поле ввода очищается, и вызывается `renderTodos()`.

7. **Перерисовка HTML‑списка**  
   `renderTodos` заново строит список `<li>` в блоке `#todo-list`: добавляет чекбокс, текст и кнопку «Удалить» для каждого дела. Если список пуст, показывает надпись «Пока дел нет…».

8. **Разблокируем кнопку**  
   В блоке `finally` кнопка снова активируется (`addBtn.disabled = false;`), чтобы можно было добавлять следующее дело.

Если на любом шаге запрос не удался (например, сервер выключен), ловится ошибка и показывается `alert` с текстом вроде «Не удалось добавить дело: …». После ошибки интерфейс остаётся в предыдущем состоянии.***
